{"version":3,"sources":["../app.js"],"names":["txtMessage","document","querySelector","btnToUppercase","chkBold","output","messageObjectInfo","message","text","bold","addEventListener","value","updateUI","toUpperCase","textContent","style","fontWeight","html","text__history__","fullHistory","length","bold__history__","fileNameOnly","stack","innerHTML","updateLastLocationSourcemapped","history","selector","codePreprocessor","resolveFrame","err","frame","setTimeout","fileName","lineNumber","columnNumber","isDist","indexOf","parts","split","ret","replace","console","log"],"mappings":"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","file":"app.js","sourcesContent":["(function(){\n    var txtMessage = document.querySelector(\"#txt-message\")\n    var btnToUppercase = document.querySelector(\"#btn-to-uppercase\")\n    var chkBold = document.querySelector(\"#chk-bold\")\n    var output = document.querySelector(\"#output\")\n    var messageObjectInfo = document.querySelector(\"#message-object-info\")\n\n    window.message = { text: \"Hello World!\", bold: false };\n\n    txtMessage.addEventListener(\"keyup\", function(){\n        message.text = txtMessage.value;\n        updateUI();\n    })\n\n    btnToUppercase.addEventListener(\"click\", function(){\n        message.text = message.text.toUpperCase();\n        updateUI();\n    })\n\n    chkBold.addEventListener(\"change\", function(){\n        message.bold = !message.bold;\n        updateUI()\n    })\n\n    function updateUI(){\n        txtMessage.value = message.text\n\n        output.textContent = message.text\n        output.style.fontWeight = message.bold ? \"bold\" : \"normal\"\n\n        var html = `\n            <table>\n                <tr>\n                    <th>Inspect window.message!</th>\n                    <th>message.text</th>\n                    <th>message.bold</th>\n                </tr>\n                <tr>\n                    <td>Value</td>\n                    <td>\"${message.text}\"</td>\n                    <td>${message.bold}</td>\n                </tr>\n                <tr>\n                    <td>History Length</td>\n                    <td>${message.text__history__.fullHistory.length}</td>\n                    <td>${message.bold__history__.fullHistory.length}</td>\n                </tr>\n                <tr>\n                    <td>Last change location</td>\n                    <td>${fileNameOnly(message.text__history__.fullHistory[0].stack[0])}</td>\n                    <td>${fileNameOnly(message.bold__history__.fullHistory[0].stack[0])}</td>\n                </tr>\n                <tr>\n                    <td>Last change location<br> (asynchronous, sourcemapped)</td>\n                    <td id=\"last-change-text\"></td>\n                    <td id=\"last-change-bold\"></td>\n                </tr>\n                <tr>\n                    <td>See console for results</td>\n                    <td><button onClick=\"message.text__history__.prettyPrintSynchronously()\">Call .prettyPrintSynchronously</button></td>\n                    <td><button onClick=\"message.bold__history__.prettyPrintSynchronously()\">Call .prettyPrintSynchronously</button></td>\n                </tr>\n                <tr>\n                    <td>See console for results</td>\n                    <td onClick=\"message.bold__history__.prettyPrint()\"><button>Call .prettyPrint</button></td>\n                    <td onClick=\"message.bold__history__.prettyPrint()\"><button>Call .prettyPrint</button></td>\n                </tr>\n            </table>\n\n        `\n\n        messageObjectInfo.innerHTML = html;\n\n        updateLastLocationSourcemapped(message.text__history__, \"#last-change-text\")\n        updateLastLocationSourcemapped(message.bold__history__, \"#last-change-bold\")\n\n        function updateLastLocationSourcemapped(history, selector){\n            document.querySelector(selector).textContent = \"\"\n            codePreprocessor.resolveFrame(history.fullHistory[0].stack[0], function(err, frame){\n                // artificial delay to show it's asynchronous\n                setTimeout(function(){\n                    document.querySelector(selector).textContent = fileNameOnly(frame.fileName) + \":\" + frame.lineNumber + \":\" + frame.columnNumber\n                }, 200)\n            })\n        }\n\n        function fileNameOnly(fileName){\n            var isDist = fileName.indexOf(\"/dist/\") !== -1;\n            var parts = fileName.split(\"/\")\n\n            var ret = isDist ? \"dist/\" : \"\"\n            ret += parts[parts.length - 1]\n            ret.replace(\")\", \"\") // from end of a call frame string\n\n            return ret\n        }\n    }\n\n    updateUI()\n\n    console.log(\"This is the global message object:\", message)\n\n\n})()\n"]}